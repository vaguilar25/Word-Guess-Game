<html>

<head>
    <meta charset="UTF-8">
    <title>Hangman</title>
</head>

<body>
    <h1>Hangman Game</h1>
    <p> Guess word : <span id="guessWord"></span></p>
    <p>Total Guesses: <span id="totalGuesses"> </span></p>
    <p id="letterUsed"> </p>
    <p>Guesses Remainining: <span id="guessRemaining"> </span></p>

    <script type="text/javascript">
        var userKeyPressed = "";
        var arrayOfLetters = [];
        var countCorrect = 0;
        var countRemain = 12;
        var wrongKey = false;
        document.onkeyup = function (event) {
            userKeyPressed = event.key;
            console.log("User Key Press:" + userKeyPressed);

            //Go through the array of letters and find a match to the user input
            correctKey = 0;
            arrayOfLetters.forEach(function (element, index) {
                if (userKeyPressed === element) {
                    var tagName = "letter" + index;
                    console.log(tagName);

                    var letterReplace = document.getElementById(tagName);
                    letterReplace.textContent = element;

                    countCorrect++;
                    correctKey++
                    
                } 
            });

            if (correctKey === 0) {
                console.log("Count Remain " + wrongKey);
                countRemain = countRemain - 1;
                var gRemaining = document.getElementById("guessRemaining");
                gRemaining.textContent = countRemain;
            }
            var totalGuess = document.getElementById("totalGuesses");
            totalGuess.textContent = countCorrect;
            console.log("countCorrect" + countCorrect);
        }

        function hangman(word, remGuess, letUsed) {
            this.wordPlay = word;
            this.remainGuess = remGuess;
            this.lettersUsed = letUsed;

            //Function used to display spaces of the word to be guessed 
            this.displayWordSpaces = function (word) {

                var listOfSpaces = " ";

                for (i = 0; i < word.length; i++) {
                    // concatenate html to generate spaces
                    listOfSpaces += "<span id=letter" + i + "> _ </span>";

                }
                //send the html to the html tag in reference
                document.getElementById("guessWord").innerHTML = listOfSpaces;


            }

        }
        // Create my object Game        
        var newGame = new hangman(
            "testing",
            0,
            0,
            0
        );

        newGame.displayWordSpaces(newGame.wordPlay);
        arrayOfLetters = newGame.wordPlay.split("");


        console.log("split: ", newGame.wordPlay.split(""));
        //var wordGuess = document.getElementById("guessWord");
        //wordGuess.textContent = newGame.wordPlay[0];
        console.log(newGame);



    </script>
</body>

</html>